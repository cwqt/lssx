\documentclass{beamer}
%
% Choose how your presentation looks.
%
% For more themes, color themes and font themes, see:
% http://deic.uab.es/~iblanes/beamer_gallery/index_by_theme.html
%
\mode<presentation>
{
  \usetheme{default}      % or try Darmstadt, Madrid, Warsaw, ...
  \usecolortheme{default} % or try albatross, beaver, crane, ...
  \usefonttheme{default}  % or try serif, structurebold, ...
  \setbeamertemplate{navigation symbols}{}
  \setbeamertemplate{caption}[numbered]
} 

\usepackage[english]{babel}
\usepackage[utf8x]{inputenc}
\usepackage{minted}
\usepackage{pgfgantt}
\usepackage[english]{babel}
\usepackage[style=ieee,citestyle=verbose]{biblatex}
\usepackage{float}
\usepackage{csquotes}
\usepackage{minted}
\usepackage{booktabs}
\usepackage{inputenc}
\usepackage{subfig} % 2 images next to each other
\usepackage{lscape}
\usepackage{rotating}
\usepackage{geometry}


 % tikz (graphs, circuitikz) --------------------------------%
\usepackage{pst-circ}
\usepackage{tikz}
\usepackage{pgfplots, pgfplotstable} % graphs
\pgfplotsset{compat=1.14}
\usepackage{tikz-timing} % clock pulses timing
\usetikzlibrary{shapes,arrows,backgrounds}
\tikzstyle{startstop} = [rectangle, rounded corners, minimum width=2cm, minimum height=1cm,text centered, draw=black, fill=red!30]
\tikzstyle{io} = [trapezium, trapezium left angle=70, trapezium right angle=110, minimum height=1cm, text centered, draw=black, fill=blue!30, trapezium stretches=true]
\tikzstyle{process} = [rectangle, minimum height=1cm, text centered, draw=black, fill=orange!30]
\tikzstyle{decision} = [diamond, minimum width=3cm, minimum height=1cm, text centered, draw=black, fill=green!30]
\tikzstyle{data} = [cylinder, text centered, draw=black, fill=green!30]
\tikzstyle{arrow} = [thick,->,>=stealth]
\usetikzlibrary{decorations.pathreplacing,angles,quotes}
\usetikztiminglibrary[rising arrows]{clockarrows} % ck edges
\usepgfplotslibrary{statistics} % box plots
 %
 \usepackage{xparse} % NewDocumentCommand, IfValueTF, IFBooleanTF
 
\setminted[moonscript]{
fontsize=\small,
breaklines=true,
obeytabs=true,
tabsize=1
}
 
%-more circuitkz ------------------------------------------
\usepackage{siunitx}
\usepackage[american,cuteinductors,smartlabels]{circuitikz}

\usetikzlibrary{calc}
\usetikzlibrary{automata, positioning, arrows}
\ctikzset{bipoles/thickness=1}
\ctikzset{bipoles/length=0.8cm}
\ctikzset{bipoles/diode/height=.375}
\ctikzset{bipoles/diode/width=.3}
\ctikzset{tripoles/thyristor/height=.8}
\ctikzset{tripoles/thyristor/width=1}
\ctikzset{bipoles/vsourceam/height/.initial=.7}
\ctikzset{bipoles/vsourceam/width/.initial=.7}
\tikzstyle{every node}=[font=\small]
\tikzstyle{every path}=[line width=0.8pt,line cap=round,line join=round]

\usepackage{tabularx,ragged2e}
\newcolumntype{C}{>{\Centering\arraybackslash}X} % centered "X" column

%---------------------------------------------------------

\title[]{lssx, LOVE Space Shooter X} %Ã–
\author{}
\institute{John Leggott College}
\date{2018}

\begin{document}

\begin{frame}
  \titlepage
\end{frame}

%=========================================================

\begin{frame}{Project aims}
  Aims are to create a casual space simulation shoot-em-up with semi-realistic physics and retro graphics, akin games in the 1st/2nd generation of console.
    \begin{itemize}
    \item Release onto itch.io
    \item Enjoyable, \textit{re-playable} and simple experience
    \end{itemize}
\end{frame}

%=========================================================

\begin{frame}{Inspiration}
  \vspace*{-0.3cm}
  \begin{itemize}
  \item Reassembly
  \item BYTEPATH
  \item Datawing
  \end{itemize}

  \begin{figure}[!htb]
  \minipage{0.32\textwidth}
    \includegraphics[width=\linewidth]{figures/reassembly}
    \caption{A really Awesome Image}\label{fig:awesome_image1}
  \endminipage\hfill
  \minipage{0.32\textwidth}
    \includegraphics[width=\linewidth]{figures/reassembly}
    \caption{A really Awesome Image}\label{fig:awesome_image2}
  \endminipage\hfill
  \minipage{0.32\textwidth}%
    \includegraphics[width=\linewidth]{figures/reassembly}
    \caption{A really Awesome Image}\label{fig:awesome_image3}
  \endminipage
  \end{figure}

  Early computer graphics and design, similar to the Bell Labs / UNIX aesthetic
  Cold war paranoia, fantasy systems (Star Wars ICBM defence) - Training simulator for cold-war pilots.
\end{frame}

%=========================================================

\begin{frame}[fragile=singleslide]{Architecture}
  LOVE, 2D game development framework, provides interface between code and graphics.

\begin{minted}[breaklines=true]{lua}
  function love.draw()
    love.graphics.print("Hello World!", 400, 300)
  end
\end{minted}

  Box2D, 2D physics engine for simulating the interaction between rigid bodies, love.physics
\end{frame}

%=========================================================

\begin{frame}{Box2D}
  \textit{Box2D} is a highly tested, reliable and complete 2D physics engine that powers almost all interactions within the game.
  \begin{figure}[t]
  \includegraphics[width=\linewidth]{figures/Box2D.pdf}
  \caption{Anatomy of Box2D}
  \label{fig:box2-explained}
  \end{figure}
  \vspace*{-0.7cm}
  
  LOVE uses an implementation of Box2D called \textit{love.physics} which is essentially the same - but in Lua.
\end{frame}

\begin{frame}{Object Oriented Programming}
  Object Oriented Programming is a programming paradigm that attempts to deconstruct complex objects into simple components that follow a \textit{parent-child relationship}, for example:
    
  \begin{figure}[t]
  \includegraphics[width=0.4\linewidth]{figures/OO.pdf}
  \caption{Basic OO structure}
  \label{fig:box2-explained}
  \end{figure}
  \vspace*{-0.7cm}
  
Objects have classes, parents, values and methods. This allows an OO system emulate encapsulation, polymorphism and inheritance. 
\end{frame}

%=========================================================

\begin{frame}{Choosing an OO library}
  Since \textit{Lua} doesn't natively support OO without the use of \textit{metatables} and \textit{metamethods} (which becomes incredibly verbose quickly) - the \textit{Lua} community has created a series of libraries which simplify the use of OOP. \\
    
  A series of tests was performed to see which library was the most memory efficient and fastest. \\

  \textit{classic}, \textit{hump.class}, \textit{middleclass} and a language that compiles into \textit{Lua} called \textit{MoonScript} were all tested using a small program which recorded time taken for each library to:
  \begin{itemize}
    \item Create objects
    \item Perform methods
    \item Create objects with a parent (test inheritance)
  \end{itemize}
  From 10 to 1 million objects.
\end{frame}

%=========================================================

\begin{frame}{Creating objects}
  \input{figures/oo-test-1.tex}
\end{frame}
\begin{frame}{Performing methods}
  \input{figures/oo-test-2.tex}
\end{frame}
\begin{frame}{Testing inheritance}
  \input{figures/oo-test-3.tex}
\end{frame}

%=========================================================

\begin{frame}{Results and conclusion}
The results show a close tie with \textit{classic} and \textit{hump.class }- \textit{middleclass} lags behind because of the quantity of features it has. \\

\textit{MoonScript} is the leader with a small amount of objects (<100). \\

\textit{MoonScript} was chosen to be the programming language for this project because the compiling process allows for adjustments to be made to the code which allows it to run faster prior to the program running.
\end{frame}

%=========================================================

\begin{frame}{Programming Philosophies}
  \begin{itemize}
    \item Ease-of-use, complexity should be avoided, even at the cost of speed
    \item Modularity, the engine should be easily extendable through modular programming
    \item Speed, the engine should run quickly
    \item Readability, the code should be easy to read, with most contents' operation being understandable at first-viewing
  \end{itemize}
\end{frame}

\begin{frame}{Rapid prototyping}
  A small prototype which used a majority of Box2Ds features was created in under a week.
    
  \begin{figure}
  \includegraphics[width=0.7\linewidth]{figures/prototype}
  \caption{Prototype}
  \end{figure}

\end{frame}

%=========================================================

\begin{frame}[fragile=singleslide]{zephyr}
  Mid-way through the project I realised the current method of detecting and handling collisions involved a lot of repeated code and was generally un-scalable. \\
  
  \textit{zephyr} is a Box2D wrapper designed to make the process of creation easier by streamlining collision detection and resolution between Box2D objects.\\

  Collision detection for all objects is now done simply;\\
\begin{minted}[breaklines=true]{moonscript}
Physics.beginContact = (a, b, coll) ->
  -- pass a->b and b->a
  lssx.objects[a\getUserData().hash]\beginContact(b)
  lssx.objects[b\getUserData().hash]\beginContact(a)
\end{minted}
\end{frame}

%=========================================================

\begin{frame}[fragile=singleslide]{Proceedural Generation}
Creating a large quantity of content on my own would take a significant amount of time and effort. Procedural Generation is a method of computationally generating content. \\

For example, an \textit{Asteroid} is a polygon shape with a somewhat random convex shape, the following is a snippet of the Asteroid generation code.

\begin{minted}[fontsize=\footnotesize]{moonscript}
class Asteroid extends PolygonPhysicsShape
  new: (x, y, ...) =>
    v = {}
    for i=1, 16, 2 do
      v[i] = math.random(100)
      v[i+1] = math.random(100)
    @scale = math.random(0.2, 1)
    for i=1, #v do v[i] = v[i] * @scale
    super(v, 1, lssx.world, x, y, "dynamic", ...)
    @fixture\setFriction(10)
    @body\setLinearDamping(0.2)
    @body\setAngularDamping(0.2)
\end{minted}

\end{frame}

%=========================================================



\end{document}
